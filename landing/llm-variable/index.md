# ğŸ¤– CharacterAPI.llmVariable LLMé©±åŠ¨çš„å˜é‡ç®¡ç†ç³»ç»Ÿ

> **æ ¸å¿ƒç›®æ ‡**ï¼šæä¾›LLMé©±åŠ¨çš„å˜é‡æ›´æ–°æœºåˆ¶ï¼Œé€šè¿‡ç»“æ„åŒ–æŒ‡ä»¤è®©LLMå®‰å…¨ã€å¯æ§åœ°æ“ä½œå˜é‡ç³»ç»Ÿï¼Œä½œä¸º [`CharacterAPI.variable`](../variable/index.md) çš„é«˜çº§åŒ…è£…å±‚ã€‚

## ğŸ“‹ å¿«é€Ÿå¯¼èˆª

| æ¶æ„å±‚æ¬¡ | æ ¸å¿ƒèŒè´£ | æ¨èåº¦ | é€‚ç”¨åœºæ™¯ | æ–‡æ¡£é“¾æ¥ |
|----------|----------|--------|----------|----------|
| **åº•å±‚å¹³å°ç‰¹æ€§** | ä¸–ç•Œä¹¦ç³»ç»Ÿèƒ½åŠ›åˆ†æ | â­â­ **æ¨è** | ç†è§£åº•å±‚åŸç† | [`platform.md`](./platform.md) |
| **å¹³å°é€‚é…å±‚** | è§„åˆ™æ³¨å…¥ä¸ä¸–ç•Œä¹¦é›†æˆ | â­â­â­ **å¿…éœ€** | è§„åˆ™ç®¡ç†ä¸LLMå¼•å¯¼ | [`adapter.md`](./adapter.md) |
| **åŒ…è£…å±‚å®ç°** | æŒ‡ä»¤è§£æã€å›è°ƒç³»ç»Ÿã€åˆå§‹åŒ–ç®¡ç† | â­â­â­ **å¿…éœ€** | LLMé©±åŠ¨çš„å˜é‡æ›´æ–° | [`wrapper.md`](./wrapper.md) |
| **åº”ç”¨å±‚é›†æˆ** | Vue/Piniaé›†æˆã€UIå“åº”å¼æ›´æ–° | â­â­ **æ¨è** | å‰ç«¯åº”ç”¨å¼€å‘ | [`application.md`](./application.md) |
| **é«˜çº§åº”ç”¨å®ç°** | å¤æ‚åœºæ™¯ä¸æ€§èƒ½ä¼˜åŒ– | â­ **å¯é€‰æ‰©å±•** | é«˜çº§å®šåˆ¶éœ€æ±‚ | [`advanced-application.md`](./advanced-application.md) |

## ğŸ—ï¸ æ¶æ„å±‚æ¬¡å›¾

```mermaid
graph TB
    subgraph "ğŸ¯ åº”ç”¨å±‚ (Application Layer)"
        A1[Vueç»„ä»¶é›†æˆ â­â­]
        A2[å“åº”å¼çŠ¶æ€ç®¡ç† â­â­]
    end
    
    subgraph "ğŸ“¦ åŒ…è£…å±‚ (Wrapper Layer)"
        W1[LLMVariableManager â­â­â­]
        W2[æŒ‡ä»¤è§£æå™¨ â­â­â­]
        W3[å›è°ƒç³»ç»Ÿ â­â­â­]
        W4[åˆå§‹åŒ–ç®¡ç† â­â­â­]
    end
    
    subgraph "ğŸ”Œ é€‚é…å±‚ (Adapter Layer)"
        AD1[RuleInjector â­â­â­]
        AD2[è§„åˆ™æ¨¡æ¿ç®¡ç† â­â­â­]
        AD3[ä¸–ç•Œä¹¦é€‚é…å™¨ â­â­â­]
    end
    
    subgraph "âš¡ å¹³å°å±‚ (Platform Layer)"
        P1[ä¸–ç•Œä¹¦ç³»ç»Ÿ â­â­]
        P2[MVUæœºåˆ¶åˆ†æ â­]
    end
    
    subgraph "ğŸ”— ä¾èµ–æ¨¡å—"
        V1[CharacterAPI.variable â­â­â­]
    end
    
    A1 --> W1
    A2 --> W1
    W1 --> W2
    W2 --> W3
    W3 --> W4
    W1 --> V1
    W4 --> AD1
    AD1 --> AD2
    AD2 --> AD3
    AD3 --> P1
    P1 -.å‚è€ƒ.-> P2
    
    classDef required fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef recommended fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef optional fill:#fff3e0,stroke:#e65100,stroke-width:1px,stroke-dasharray: 5 5
    
    class W1,W2,W3,W4,AD1,AD2,AD3,V1 required
    class A1,A2,P1 recommended
    class P2 optional
```

## ğŸ’¡ å®æ–½ç­–ç•¥

### ğŸ¯ **æ¨èå®æ–½è·¯å¾„**
1. **æ ¸å¿ƒä¸‰å±‚ä¼˜å…ˆ** (â­â­â­)ï¼šPlatform â†’ Adapter â†’ Wrapper
2. **åº”ç”¨å±‚é›†æˆ** (â­â­)ï¼šåŸºç¡€Vueç»„ä»¶é›†æˆ
3. **å¯é€‰æ‰©å±•** (â­)ï¼šé«˜çº§ç‰¹æ€§ä¸æ€§èƒ½ä¼˜åŒ–

---

## ğŸ¯ æ ¸å¿ƒç›®æ ‡ä¸ç‰¹æ€§

### âœ… **LLMæŒ‡ä»¤è§£æ**
- è§£æLLMè¾“å‡ºçš„ç»“æ„åŒ–å˜é‡æ“ä½œæŒ‡ä»¤
- æ”¯æŒå¤šç§æŒ‡ä»¤æ ¼å¼ï¼ˆset/get/delete/merge/push/callbackï¼‰
- å®Œæ•´çš„å®‰å…¨éªŒè¯ä¸é”™è¯¯å¤„ç†

### âœ… **è§„åˆ™é©±åŠ¨è®¾è®¡**
- é€šè¿‡ä¸–ç•Œä¹¦å‘LLMæ³¨å…¥å˜é‡æ“ä½œè§„åˆ™
- è§„åˆ™æ¨¡æ¿ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰
- åŠ¨æ€è§„åˆ™å¯ç”¨/ç¦ç”¨æ§åˆ¶

### âœ… **å®Œå…¨é›†æˆ Variable æ¨¡å—**
- æ‰€æœ‰å˜é‡æ“ä½œé€šè¿‡ [`CharacterAPI.variable`](../variable/index.md) å®Œæˆ
- å¤ç”¨ä½œç”¨åŸŸã€æ‰¹é‡æ“ä½œã€äº‹ä»¶ç³»ç»Ÿç­‰èƒ½åŠ›
- æ— ç¼çš„å¹³å°é€‚é…æ”¯æŒ

### âœ… **JavaScriptå›è°ƒæ”¯æŒ**
- æ³¨å†Œå’Œè°ƒç”¨JavaScriptå›è°ƒå‡½æ•°
- è§¦å‘UIæ›´æ–°ã€æ’­æ”¾éŸ³æ•ˆç­‰äº¤äº’
- å®Œæ•´çš„å›è°ƒç”Ÿå‘½å‘¨æœŸç®¡ç†

---

## ğŸ”§ æ ¸å¿ƒæ¥å£ä¸ç±»å‹å®šä¹‰

### ğŸ“‹ **LLMå˜é‡ç®¡ç†å™¨æ¥å£** â­â­â­
> **èŒè´£**ï¼šè§£æLLMè¾“å‡ºçš„æŒ‡ä»¤å¹¶æ‰§è¡Œå˜é‡æ“ä½œ
> **å¿…è¦æ€§**ï¼š**ç»å¯¹å¿…éœ€** - LLMé©±åŠ¨å˜é‡æ›´æ–°çš„æ ¸å¿ƒå…¥å£

```typescript
interface LLMVariableManager {
  /** è§£æå¹¶æ‰§è¡ŒLLMè¾“å‡ºçš„æŒ‡ä»¤ */
  parse(llmOutput: string): Promise<ParseResult>;
  
  /** æ³¨å†ŒJavaScriptå›è°ƒå‡½æ•° */
  registerCallback(name: string, callback: Function): void;
  
  /** é…ç½®åˆå§‹åŒ–è§„åˆ™ */
  setInitRules(rules: InitRule[]): Promise<void>;
  
  /** æ‰‹åŠ¨è§¦å‘åˆå§‹åŒ– */
  initialize(): Promise<InitResult>;
  
  /** è·å–è§£æç»Ÿè®¡ä¿¡æ¯ */
  getStats(): ParseStats;
}
```

> ğŸ“– **å®Œæ•´å®ç°å‚è€ƒ**ï¼š[`wrapper.md - åŒ…è£…å±‚å®ç°`](./wrapper.md)

### ğŸ›ï¸ **è§„åˆ™æ³¨å…¥å™¨æ¥å£** â­â­â­
> **èŒè´£**ï¼šå‘LLMæ³¨å…¥å˜é‡æ“ä½œè§„åˆ™ï¼Œé€šè¿‡ä¸–ç•Œä¹¦ç³»ç»Ÿ
> **å¿…è¦æ€§**ï¼š**ç»å¯¹å¿…éœ€** - LLMç†è§£å’Œç”ŸæˆæŒ‡ä»¤çš„åŸºç¡€

```typescript
interface RuleInjector {
  /** æ³¨å…¥è§„åˆ™åˆ°ä¸–ç•Œä¹¦ */
  injectRules(rules: Rule[]): Promise<void>;
  
  /** è·å–å½“å‰æ¿€æ´»çš„è§„åˆ™ */
  getActiveRules(): Promise<Rule[]>;
  
  /** æ›´æ–°è§„åˆ™æ¨¡æ¿ */
  updateTemplate(template: RuleTemplate): Promise<void>;
  
  /** ç§»é™¤è§„åˆ™ */
  removeRule(ruleId: string): Promise<void>;
}
```

> ğŸ“– **å®Œæ•´å®ç°å‚è€ƒ**ï¼š[`adapter.md - è§„åˆ™æ³¨å…¥ç³»ç»Ÿ`](./adapter.md)

### ğŸ“ **æŒ‡ä»¤æ ¼å¼è§„èŒƒ** â­â­â­

æ”¯æŒä¸¤ç§æŒ‡ä»¤æ ¼å¼ï¼š

#### **æ¨èï¼šJSONæ ¼å¼** âœ¨ï¼ˆé»„é‡‘æ ‡å‡†ï¼‰
```json
{
  "op": "assign",
  "path": ["player", "hp"],
  "value": 80,
  "old": 100,
  "reason": "å—åˆ°ä¼¤å®³"
}
```

#### **å…¼å®¹ï¼šMVUæ ¼å¼**ï¼ˆå‘åå…¼å®¹ï¼‰
```javascript
_.set('player.hp', 100, 80); // å—åˆ°ä¼¤å®³
```

> ğŸ“– **è¯¦ç»†æ ¼å¼è¯´æ˜**ï¼š[`wrapper.md - æŒ‡ä»¤æ ¼å¼`](./wrapper.md#æŒ‡ä»¤æ ¼å¼è§„èŒƒ)

---

## ğŸ“¡ å·¥ä½œæµç¨‹å›¾

### ğŸ”„ **å®Œæ•´æµç¨‹** â­â­â­

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant LLM as LLM
    participant Wrapper as åŒ…è£…å±‚
    participant Adapter as è§„åˆ™æ³¨å…¥å±‚
    participant Variable as Variableæ¨¡å—
    participant WorldBook as ä¸–ç•Œä¹¦
    
    Note over Adapter,WorldBook: åˆå§‹åŒ–é˜¶æ®µ
    Adapter->>WorldBook: æ³¨å…¥å˜é‡æ“ä½œè§„åˆ™
    WorldBook->>LLM: è§„åˆ™éšä¸Šä¸‹æ–‡ä¼ é€’
    
    Note over User,LLM: å¯¹è¯é˜¶æ®µ
    User->>LLM: ç”¨æˆ·è¾“å…¥
    LLM->>LLM: ç†è§£è§„åˆ™å¹¶ç”ŸæˆæŒ‡ä»¤
    LLM->>Wrapper: è¾“å‡ºåŒ…å«æŒ‡ä»¤çš„å›å¤
    
    Note over Wrapper,Variable: æ‰§è¡Œé˜¶æ®µ
    Wrapper->>Wrapper: è§£ææŒ‡ä»¤
    Wrapper->>Wrapper: å®‰å…¨éªŒè¯
    Wrapper->>Variable: è°ƒç”¨å˜é‡API
    Variable->>Variable: æ‰§è¡Œæ“ä½œ
    Variable-->>Wrapper: è¿”å›ç»“æœ
    Wrapper-->>User: å®Œæˆå¹¶è§¦å‘äº‹ä»¶
```

---

## ğŸ—ï¸ åˆ†å±‚å®ç°æŒ‡å—

### 1ï¸âƒ£ **åº•å±‚å¹³å°ç‰¹æ€§** â­â­ **æ¨è**
> **å®æ–½ä¼˜å…ˆçº§**ï¼šç¬¬ä¸€é˜¶æ®µ - ç†è§£åº•å±‚æœºåˆ¶

- **æ ¸å¿ƒèƒ½åŠ›**ï¼šä¸–ç•Œä¹¦ç³»ç»Ÿèƒ½åŠ›åˆ†æ
- **å…³é”®ç‰¹æ€§**ï¼šMVUæœºåˆ¶åŸç†ã€è§„åˆ™æ³¨å…¥æ–¹å¼
- **å®ç°è¦ç‚¹**ï¼šå¹³å°å·®å¼‚å¯¹æ¯”ã€èƒ½åŠ›è¯„ä¼°

ğŸ“– **è¯¦ç»†å®ç°**ï¼š[`platform.md - å¹³å°ç‰¹æ€§åˆ†æ`](./platform.md)

### 2ï¸âƒ£ **å¹³å°é€‚é…å±‚** â­â­â­ **å¿…éœ€**
> **å®æ–½ä¼˜å…ˆçº§**ï¼šç¬¬äºŒé˜¶æ®µ - è§„åˆ™ç®¡ç†ç³»ç»Ÿ

- **æ ¸å¿ƒèƒ½åŠ›**ï¼šRuleInjectorã€è§„åˆ™æ¨¡æ¿ã€ä¸–ç•Œä¹¦é€‚é…
- **å…³é”®ç‰¹æ€§**ï¼šè§„åˆ™æ³¨å…¥ã€æ¨¡æ¿ç®¡ç†ã€å¹³å°æ¡¥æ¥
- **å®ç°è¦ç‚¹**ï¼šä¸–ç•Œä¹¦APIå°è£…ã€è§„åˆ™ç‰ˆæœ¬æ§åˆ¶

ğŸ“– **è¯¦ç»†å®ç°**ï¼š[`adapter.md - è§„åˆ™æ³¨å…¥ç³»ç»Ÿ`](./adapter.md)

### 3ï¸âƒ£ **åŒ…è£…å±‚å®ç°** â­â­â­ **å¿…éœ€**
> **å®æ–½ä¼˜å…ˆçº§**ï¼šç¬¬ä¸‰é˜¶æ®µ - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

- **æ ¸å¿ƒèƒ½åŠ›**ï¼šLLMVariableManagerã€æŒ‡ä»¤è§£æã€å›è°ƒç³»ç»Ÿ
- **å…³é”®ç‰¹æ€§**ï¼šæŒ‡ä»¤è§£æã€å®‰å…¨éªŒè¯ã€åˆå§‹åŒ–ç®¡ç†
- **å®ç°è¦ç‚¹**ï¼šå®Œå…¨ä¾èµ–Variableæ¨¡å—ã€äº‹ä»¶é›†æˆ

ğŸ“– **è¯¦ç»†å®ç°**ï¼š[`wrapper.md - åŒ…è£…å±‚è®¾è®¡`](./wrapper.md)

### 4ï¸âƒ£ **åº”ç”¨å±‚é›†æˆ** â­â­ **æ¨è**
> **å®æ–½ä¼˜å…ˆçº§**ï¼šç¬¬å››é˜¶æ®µ - å‰ç«¯é›†æˆ

- **æ ¸å¿ƒèƒ½åŠ›**ï¼šVue/Piniaé›†æˆã€å“åº”å¼çŠ¶æ€ç®¡ç†
- **å…³é”®ç‰¹æ€§**ï¼šUIè‡ªåŠ¨æ›´æ–°ã€å¼€å‘è€…å·¥å…·æ”¯æŒ
- **å®ç°è¦ç‚¹**ï¼šPinia Storeè®¾è®¡ã€ç»„ä»¶é›†æˆæ¨¡å¼

ğŸ“– **è¯¦ç»†å®ç°**ï¼š[`application.md - åº”ç”¨å±‚é›†æˆ`](./application.md)

### 5ï¸âƒ£ **é«˜çº§åº”ç”¨å®ç°** â­ **å¯é€‰æ‰©å±•**
> **å®æ–½ä¼˜å…ˆçº§**ï¼šç¬¬äº”é˜¶æ®µ - é«˜çº§ç‰¹æ€§

- **æ ¸å¿ƒèƒ½åŠ›**ï¼šå¤æ‚åœºæ™¯æ”¯æŒã€æ€§èƒ½ä¼˜åŒ–
- **å…³é”®ç‰¹æ€§**ï¼šæ‰¹é‡ä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥ã€äº‹åŠ¡æ”¯æŒ
- **å®ç°è¦ç‚¹**ï¼šæ€§èƒ½åˆ†æã€æ‰©å±•æœºåˆ¶

ğŸ“– **è¯¦ç»†å®ç°**ï¼š[`advanced-application.md - é«˜çº§åº”ç”¨`](./advanced-application.md)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

```typescript
// 1. åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨æ£€æµ‹å¹³å°ï¼‰
await CharacterAPI.init();

// 2. æ³¨å†Œå›è°ƒå‡½æ•°ï¼ˆå¯é€‰ï¼‰
CharacterAPI.llmVariable.registerCallback('onPlayerLevelUp', (player) => {
  console.log(`ç©å®¶å‡çº§åˆ° ${player.level} çº§ï¼`);
});

// 3. è®¾ç½®åˆå§‹åŒ–è§„åˆ™ï¼ˆå¯é€‰ï¼‰
await CharacterAPI.llmVariable.setInitRules([
  {
    path: 'player',
    value: { name: 'æœªå‘½å', level: 1, hp: 100 },
    condition: 'missing'
  }
]);

// 4. æ‰‹åŠ¨åˆå§‹åŒ–ï¼ˆæˆ–ç­‰å¾…è‡ªåŠ¨è§¦å‘ï¼‰
await CharacterAPI.llmVariable.initialize();

// 5. LLMè¾“å‡ºè‡ªåŠ¨è§£æ
// LLMçš„å›å¤ä¸­åŒ…å«æŒ‡ä»¤ä¼šè¢«è‡ªåŠ¨è§£ææ‰§è¡Œ
const llmOutput = `
ç©å®¶å‡çº§äº†ï¼

\`\`\`json
{
  "op": "assign",
  "path": ["player", "level"],
  "value": 2,
  "old": 1,
  "reason": "å‡åˆ°2çº§"
}
\`\`\`
`;

// 6. è§£æå¹¶æ‰§è¡Œ
const result = await CharacterAPI.llmVariable.parse(llmOutput);
if (result.success) {
  console.log('æˆåŠŸæ‰§è¡Œæ“ä½œ:', result.operations.length);
}
```

### å®Œæ•´ç¤ºä¾‹ï¼šRPGæ¸¸æˆ

```typescript
// é…ç½®æ¸¸æˆç³»ç»Ÿ
async function setupRPGSystem() {
  // 1. æ³¨å†Œæ¸¸æˆå›è°ƒ
  CharacterAPI.llmVariable.registerCallback('showMessage', (msg) => {
    alert(msg);
  });
  
  CharacterAPI.llmVariable.registerCallback('onLevelUp', (data) => {
    console.log('å‡çº§ï¼', data);
    playLevelUpAnimation();
  });
  
  // 2. è®¾ç½®åˆå§‹åŒ–è§„åˆ™
  await CharacterAPI.llmVariable.setInitRules([
    {
      path: 'game.started',
      value: true,
      condition: 'once'
    },
    {
      path: 'player',
      value: {
        name: 'å†’é™©è€…',
        level: 1,
        hp: 100,
        mp: 50,
        inventory: []
      },
      condition: 'missing'
    }
  ]);
  
  // 3. æ‰§è¡Œåˆå§‹åŒ–
  await CharacterAPI.llmVariable.initialize();
  
  // 4. ç›‘å¬å˜é‡å˜åŒ–
  CharacterAPI.events.on('state:changed', (payload) => {
    console.log('æ¸¸æˆçŠ¶æ€å˜åŒ–:', payload);
  });
}
```

---

## ğŸ§ª æµ‹è¯•ä¸éªŒæ”¶ç­–ç•¥

### âœ… **æµ‹è¯•è¦†ç›–çŸ©é˜µ**
| æµ‹è¯•å±‚çº§ | è¦†ç›–èŒƒå›´ | æµ‹è¯•é‡ç‚¹ | éªŒæ”¶æ ‡å‡† |
|----------|----------|----------|----------|
| **å•å…ƒæµ‹è¯•** | æŒ‡ä»¤è§£æå™¨ | è§£æå‡†ç¡®æ€§ã€é”™è¯¯å¤„ç† | è¦†ç›–ç‡ > 90% |
| **é›†æˆæµ‹è¯•** | ä¸Variableé›†æˆ | è·¨æ¨¡å—è°ƒç”¨ã€äº‹ä»¶æ´¾å‘ | ç«¯åˆ°ç«¯åœºæ™¯é€šè¿‡ |
| **å®‰å…¨æµ‹è¯•** | è·¯å¾„éªŒè¯ | æ³¨å…¥æ”»å‡»é˜²æŠ¤ã€æƒé™æ§åˆ¶ | æ— å®‰å…¨æ¼æ´ |

### ğŸ“‹ **éªŒæ”¶æ£€æŸ¥æ¸…å•**
- [ ] æ˜¯å¦æ­£ç¡®è§£ææ‰€æœ‰æŒ‡ä»¤æ ¼å¼ï¼Ÿ
- [ ] æ˜¯å¦å®Œæ•´é›†æˆVariableæ¨¡å—ï¼Ÿ
- [ ] æ˜¯å¦å®ç°å›è°ƒå‡½æ•°ç³»ç»Ÿï¼Ÿ
- [ ] æ˜¯å¦æ”¯æŒåˆå§‹åŒ–ç³»ç»Ÿï¼Ÿ
- [ ] æ˜¯å¦æä¾›å®Œæ•´çš„é”™è¯¯å¤„ç†ï¼Ÿ
- [ ] æ˜¯å¦å…·å¤‡å®‰å…¨éªŒè¯æœºåˆ¶ï¼Ÿ

---

## ğŸ”— ä¸ Variable æ¨¡å—çš„å…³ç³»

### **æ ¸å¿ƒè®¾è®¡åŸåˆ™** â­â­â­

`llmVariable` æ¨¡å—å®Œå…¨åŸºäº [`CharacterAPI.variable`](../variable/index.md) æ„å»ºï¼š

| llmVariable åŠŸèƒ½ | è°ƒç”¨çš„ Variable API | è¯´æ˜ |
|-----------------|-------------------|------|
| `_.set(path, old, new)` | [`variable.update()`](../variable/wrapper.md#æ ¸å¿ƒæ¥å£) | è°ƒç”¨å˜é‡æ›´æ–°æ¥å£ |
| `_.get(path)` | [`variable.get()`](../variable/wrapper.md#æ ¸å¿ƒæ¥å£) | è°ƒç”¨å˜é‡è·å–æ¥å£ |
| `_.delete(path)` | [`variable.update()`](../variable/wrapper.md#æ ¸å¿ƒæ¥å£) | è®¾ç½®ä¸ºnullå®ç°åˆ é™¤ |
| `_.merge(path, old, new)` | [`variable.update()`](../variable/wrapper.md#æ ¸å¿ƒæ¥å£) | æ·±åº¦åˆå¹¶å¯¹è±¡ |
| åˆå§‹åŒ–ç³»ç»Ÿ | [`variable.batch()`](../variable/wrapper.md#æ ¸å¿ƒæ¥å£) | æ‰¹é‡åˆå§‹åŒ–å˜é‡ |

**å…³é”®ä¼˜åŠ¿**ï¼š
- âœ… **ä¸é‡å¤é€ è½®å­**ï¼šå¤ç”¨ Variable çš„æ‰€æœ‰èƒ½åŠ›
- âœ… **ä¸“æ³¨æ ¸å¿ƒä»·å€¼**ï¼šåªåš"LLMæŒ‡ä»¤è§£æ"
- âœ… **ä¿æŒä¸€è‡´æ€§**ï¼šå˜é‡æ“ä½œè¡Œä¸ºå®Œå…¨ä¸€è‡´
- âœ… **é€æ˜ä¼ é€’**ï¼šæ‰€æœ‰ Variable çš„é…ç½®é€‰é¡¹éƒ½å¯ä½¿ç”¨

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### æ ¸å¿ƒå®ç°æ–‡æ¡£

- **åŒ…è£…å±‚å®ç°** â­â­â­ï¼š[`wrapper.md`](./wrapper.md) - æŒ‡ä»¤è§£æå™¨ä¸æ‰§è¡Œå¼•æ“
- **å¹³å°é€‚é…å±‚** â­â­â­ï¼š[`adapter.md`](./adapter.md) - è§„åˆ™æ³¨å…¥ä¸ä¸–ç•Œä¹¦é›†æˆ
- **åº•å±‚å¹³å°ç‰¹æ€§** â­â­ï¼š[`platform.md`](./platform.md) - ä¸–ç•Œä¹¦ç³»ç»Ÿä¸MVUæœºåˆ¶

### åº”ç”¨é›†æˆæ–‡æ¡£

- **åº”ç”¨å±‚é›†æˆ** â­â­ï¼š[`application.md`](./application.md) - Vue/Piniaé›†æˆæŒ‡å—
- **é«˜çº§åº”ç”¨å®ç°** â­ï¼š[`advanced-application.md`](./advanced-application.md) - å¤æ‚åœºæ™¯ä¸æ€§èƒ½ä¼˜åŒ–

### ç›¸å…³èµ„æº

- åŸºç¡€å˜é‡ç³»ç»Ÿï¼š[`CharacterAPI.variable`](../variable/index.md)
- äº‹ä»¶ç³»ç»Ÿï¼š[`CharacterAPI.events`](../event/index.md)
- RFCæ€»è§ˆï¼š[CHARACTER_API_RFC](/CHARACTER_API_RFC)

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®‰å…¨è€ƒè™‘
- **è·¯å¾„éªŒè¯**ï¼šä¸¥æ ¼éªŒè¯å˜é‡è·¯å¾„ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡»
- **å›è°ƒç™½åå•**ï¼šåªå…è®¸æ³¨å†Œçš„å›è°ƒå‡½æ•°æ‰§è¡Œ
- **æƒé™æ§åˆ¶**ï¼šé™åˆ¶å¯æ“ä½œçš„å˜é‡ä½œç”¨åŸŸ
- **æŒ‡ä»¤é™åˆ¶**ï¼šå•æ¬¡è§£æçš„æŒ‡ä»¤æ•°é‡é™åˆ¶

### æ€§èƒ½è€ƒè™‘
- æ‰¹é‡æŒ‡ä»¤ä¼˜åŒ–ä¸ºå•æ¬¡variableæ“ä½œ
- åˆç†ä½¿ç”¨ç¼“å­˜æœºåˆ¶
- é¿å…é¢‘ç¹çš„åˆå§‹åŒ–æ£€æŸ¥

### å¹³å°å…¼å®¹æ€§
- **TavernHelper**ï¼šå®Œæ•´æ”¯æŒæ‰€æœ‰ç‰¹æ€§
- **SillyTavern**ï¼šä¸–ç•Œä¹¦ç³»ç»Ÿæ”¯æŒ
- **å…¶ä»–å¹³å°**ï¼šéœ€è¦é€‚é…ä¸–ç•Œä¹¦æˆ–ç±»ä¼¼æœºåˆ¶

---

## ğŸ”— ç›¸å…³èµ„æºé“¾æ¥

### ğŸ“š **æ ¸å¿ƒæ–‡æ¡£**
- [CharacterAPI RFC](/CHARACTER_API_RFC) - æ•´ä½“æ¶æ„ä¸æ¥å£è§„èŒƒ
- [LLMVariableæ¨¡å—ç´¢å¼•](./index.md) - æœ¬æ–‡æ¡£

### ğŸ› ï¸ **å®ç°å‚è€ƒ**
- [åŒ…è£…å±‚å®ç°](./wrapper.md) - æŒ‡ä»¤è§£æä¸æ‰§è¡Œ
- [é€‚é…å™¨è®¾è®¡](./adapter.md) - è§„åˆ™æ³¨å…¥ç³»ç»Ÿ
- [å¹³å°ç‰¹æ€§åˆ†æ](./platform.md) - ä¸–ç•Œä¹¦ç³»ç»Ÿè¯¦è§£

### ğŸ¯ **å…¶ä»–æ¨¡å—**
- [Variableæ¨¡å—](../variable/) - åº•å±‚å˜é‡æ“ä½œ
- [Eventæ¨¡å—](../event/) - äº‹ä»¶ç³»ç»Ÿé›†æˆ
- [Generationæ¨¡å—](../generation/) - ç”ŸæˆåŠŸèƒ½é›†æˆ

---

> **ç‰ˆæœ¬**ï¼šv1.0.0  
> **çŠ¶æ€**ï¼šRFCè‰æ¡ˆ  
> **æ›´æ–°æ—¶é—´**ï¼š2025-01-09